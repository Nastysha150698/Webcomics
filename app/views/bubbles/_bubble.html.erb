<%
  y = bubble.y.to_s
  x = bubble.x.to_s
  rotate = bubble.rotate.to_s
  width = bubble.width.to_s
  height = bubble.height.to_s
  #bg_color = bubble.background_color
  #border_width = bubble.border_width.to_s
  #border_color = bubble.border_color
  #border_radius = bubble.border_radius.to_s
  shape_title = bubble.shape.title
  opacity = bubble.opacity.to_s
  z_index = bubble.z_index

  position = "position: absolute;"
  top = "top: #{ y }px;" if y != ""
  left = "left: #{ x }px;" if x != ""
  rotate = "transform: rotate(#{ rotate }deg);" if rotate != ""
  width = "width: #{ width }px;" if width != ""
  height = "height: #{ height }px;" if height != ""
  opacity = "filter: opacity(#{ opacity }%);" if opacity != ""
  # shape_title = "shape-family: #{ shape_title };" if shape_title != ""
  shape_title = "background-image: url(#{ shape_title });" if shape_title != ""
  #background_color = "background-color: #{ bg_color };" if bg_color != ""
  #border_width = "border-width: #{ border_width }px;" if border_width != ""
  #border_color = "border-color: #{ border_color };" if border_width != "" && border_color != ""
  #border_style = "border-style: solid;" if border_width != ""
  #border_radius = "border-radius: #{ border_radius }px;" if border_width != "" && border_radius != ""
  z_index = "z-index: #{ z_index };" if z_index != ""

  style = [
    position, top, left, opacity, rotate, width, height, z_index, shape_title
  ].join(" ")
%>

<%= content_tag :div, class: 'bubble', style: style do %>
  <%= link_to "Edit", edit_comic_bubble_path(@comic, bubble), class: 'editButton' %>
<% end %>
